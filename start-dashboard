#!/bin/bash

# Hummingbot Dashboard Startup Script
# This script sets up and runs Hummingbot with the Dashboard

echo "🚀 Setting up Hummingbot with Dashboard..."

# Create necessary directories if they don't exist
mkdir -p conf logs data certs scripts

# Pull the latest dashboard image
echo "📥 Pulling Hummingbot Dashboard image..."
docker pull hummingbot/dashboard:latest

# Start the services
echo "🔄 Starting Hummingbot and Dashboard services..."
docker-compose -f docker-compose.dashboard.yml up -d

# Wait a moment for services to start
sleep 5

# Check if services are running
echo "✅ Checking service status..."
docker-compose -f docker-compose.dashboard.yml ps

echo ""
echo "🎉 Setup complete!"
echo ""
echo "📊 Dashboard Access:"
echo "   • Hummingbot Dashboard: http://localhost:8501"
echo "   • Hummingbot API: http://localhost:8080 (if API is enabled)"
echo ""
echo "🔧 Useful commands:"
echo "   • View logs: docker-compose -f docker-compose.dashboard.yml logs -f"
echo "   • Stop services: docker-compose -f docker-compose.dashboard.yml down"
echo "   • Access Hummingbot CLI: docker exec -it hummingbot bash"
echo ""
echo "📁 Data Persistence:"
echo "   • Configuration: ./conf/"
echo "   • Logs: ./logs/"
echo "   • Data: ./data/"
echo "   • Scripts: ./scripts/"
